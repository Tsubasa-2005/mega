```
# メディアアップロードツール

このアプリは、ファイルをMEGAにアップロードし、そのダウンロードリンクを取得する簡単なツールです。
```

## 必要な準備

1. Node.jsとnpmをインストールしてください。
2. MEGAアカウントのメールアドレスとパスワードを用意してください。
3. 以下のコマンドで必要なライブラリをインストールしてください:

   ```
   npm install megajs
   ```
   
---

## 使用方法

1アプリを起動します:

   ```
   npm run dev
   ```

2ブラウザで `http://localhost:3000` を開き、ファイルをアップロードしてください。

```

## 制限

- アップロード可能なファイルサイズは最大100MBです。
- 現在、アップロード先フォルダ名は `test` に固定されています。変更したい場合はコードを修正してください。
```

# Makefile 説明書

このプロジェクトでは、Docker を利用して Next.js アプリケーションを簡単に管理するための Makefile を用意しています。以下のコマンドを使用することで、Docker イメージのビルドやコンテナの起動、停止をスムーズに行うことができます。

---

## 必要な準備
1. **`.env.local` ファイルの作成**

   プロジェクトのルートディレクトリに `.env.local` ファイルを作成し、以下の内容を記述してください。

   ```
   NEXT_PUBLIC_STORAGE_EMAIL=your_email
   NEXT_PUBLIC_STORAGE_PASSWORD=your_pass
   ```

   - `your_email` と `your_pass` を MEGA アカウントのメールアドレスとパスワードに置き換えてください。
   - Next.js の環境変数には `NEXT_PUBLIC_` を接頭辞として付けることで、クライアントサイドでも利用可能になります。
2. Docker がインストールされていることを確認してください。
3. プロジェクトのルートディレクトリにある Makefile を使用します。

---

## 使用方法

### イメージをビルドする

以下のコマンドを実行して Docker イメージをビルドします。

```
make docker
```

- **実行内容**:
   - 現在のプロジェクトディレクトリを元に Docker イメージをビルドします。
   - イメージ名は `nextjs-app` です（Makefile 内の変数 `APP_NAME` に基づきます）。

---

### コンテナを起動する

以下のコマンドを実行してコンテナをバックグラウンドで起動します。

```
make docker-run
```

- **実行内容**:
   - 作成したイメージを使用してコンテナを起動します。
   - コンテナ名は `nextjs-app-container` です。
   - ポート `3000` を公開します（Makefile 内の変数 `PORT` に基づきます）。
   - アプリケーションは `http://localhost:3000` でアクセス可能です。

---

### コンテナを停止する

以下のコマンドを実行して、現在実行中のプロジェクトに関連するコンテナを停止し、削除します。

```
make docker-stop
```

- **実行内容**:
   - `nextjs-app-container` という名前のコンテナを停止します。
   - 停止後、自動的にコンテナを削除します。

---

## 制限

- コンテナ名やポート番号を変更したい場合は、Makefile 内の `APP_NAME` や `PORT` の値を編集してください。
- 他のプロジェクトと名前が衝突しないように、Makefile 内の設定値を適宜変更してください。

---

これで Makefile を使用して Docker 管理がより効率的に行えるようになります！